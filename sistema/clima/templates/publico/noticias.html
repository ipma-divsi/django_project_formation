{% load static %}
<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <title>Notícias – IPMA Style</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <style>
        * { margin:0; padding:0; box-sizing:border-box; }

        body {
            font-family: Arial, sans-serif;
            background:#f4f4f4;
            color:#333;
        }

        .container {
            width:90%;
            max-width:1200px;
            margin:auto;
        }

        /* HEADER / MENU */
        header {
            background:#0056a0;
            color:white;
            padding:15px 0;
        }

        header .container {
            display:flex;
            justify-content:space-between;
            align-items:center;
        }

        .logo {
            font-size:1.8rem;
            font-weight:bold;
        }

        nav ul {
            list-style:none;
            display:flex;
            gap:15px;
        }

        nav ul li a {
            color:white;
            text-decoration:none;
            padding:5px 10px;
            border-radius:4px;
        }

        nav ul li a.active,
        nav ul li a:hover {
            background:#003f6b;
        }

        /* MAIN */
        main {
            background:white;
            padding:30px;
            margin-top:10px;
            border-radius:6px;
        }

        h2 {
            text-align:center;
            color:#0056a0;
            margin-bottom:25px;
        }

        /* NEWS */
        .news-list {
            list-style:none;
        }

        .news-item {
            display:flex;
            gap:15px;
            background:#eef4fb;
            margin-bottom:20px;
            border-radius:8px;
            overflow:hidden;
        }

        .news-item img {
            width:200px;
            height:140px;
            object-fit:cover;
        }

        .news-content {
            padding:15px;
        }

        .news-content h3 {
            color:#003f6b;
            margin-bottom:5px;
        }

        .news-date {
            font-size:0.9rem;
            color:#666;
            margin-bottom:8px;
        }

        /* PAGINATION */
        .pagination {
            text-align:center;
            margin-top:25px;
        }

        .pagination a {
            padding:6px 12px;
            margin:0 4px;
            border:1px solid #0056a0;
            color:#0056a0;
            text-decoration:none;
            border-radius:4px;
        }

        .pagination a.current {
            background:#0056a0;
            color:white;
        }

        /* RESPONSIVE */
        @media(max-width:768px){
            .news-item {
                flex-direction:column;
            }

            .news-item img {
                width:100%;
                height:auto;
            }

            nav ul {
                flex-direction:column;
            }
        }
    </style>
</head>
<body>

<header>
    <div class="container">
        <div class="logo">IPMA Style</div>
        <nav>
            <ul>
                <li><a href="{% url 'inicio' %}">Início</a></li>
                <li><a href="{% url 'noticias' %}" class="active">Notícias</a></li>
            </ul>
        </nav>
    </div>
</header>

<main class="container">
    <h2>Notícias de {{ ano_atual }}</h2>

    <ul class="news-list">
{% for noticia in noticias %}
<li class="news-item">
  <a href="{% url 'detalhe_noticia' noticia.id %}">
    
    {% if noticia.imagem %}
      <img src="{{ noticia.imagem.url }}" alt="{{ noticia.titulo }}">
    {% endif %}

    <div class="news-content">
      <h3>{{ noticia.titulo }}</h3>
      <p class="news-date">{{ noticia.data|date:"d/m/Y" }}</p>
      <p class="news-summary">
        {{ noticia.descricao|truncatechars:150 }}
      </p>
    </div>

  </a>
</li>
{% endfor %}
    </ul>

    <nav class="pagination">
        {% for y in anos %}
            <a href="?ano={{ y }}" class="{% if y == ano_atual %}current{% endif %}">
                {{ y }}
            </a>
        {% endfor %}
    </nav>
</main>

</body>
</html>
